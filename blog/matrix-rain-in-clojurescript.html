<!DOCTYPE html>
<html><head><title>Matrix Rain</title>
 <meta charset="utf-8"></meta>
 <link rel="stylesheet" href="../remedy.css"></link>
 <link rel="stylesheet" href="../styles.css"></link>
</head>
 <header><h1>MxMMz</h1>
</header>
 <nav><p><a href="../index.html">Home</a>
 <a href="../blog.html">Blog</a>
 <a href="../about.html">About</a>
</p>
 <hr></hr>
</nav>
 <div class="sidel"></div>
 <main><body><div><h1>Matrix Rain in Clojurescript</h1>
 <p>Already done many times before, in many other languages, but I just had to
    scratch my geek itch ¯\_(ツ)_/¯</p>
 <canvas id="matrixrain"></canvas>
 <script src="matrixrain-js/main.js"></script>
 <p>The source code can be found  <a href="https://github.com/mmzsource/matrixrain/blob/master/src/matrixrain/core.cljs">here.</a>
</p>
 <h2>Concepts</h2>
 <p>Instead of explaining the source code in detail, I thought it would be
   better to explain the concepts behind my design. In my view, matrix rain is
   basically a grid of randomly changing symbols, where the drops of rain are
   'overlayed' on that grid by manipulating the colors of the symbols on it.</p>
 <img src="./matrixrain-img/matrix.png"></img>
 <div class="imgtxt-container"><img src="./matrixrain-img/raindrop-short.png" class="container-img"></img>
 <div class="container-txt"><h2>Matrix Grid</h2>
 <p>So there you have it: first you fill a grid by filling the grid cells
     with randomly picked symbols. Now we only have to randomly change symbols
     on the grid in a rate that looks about right and we're already done with
     the grid. On to the raindrops.</p>
 <h2>Raindrops</h2>
 <p>Now the grid is in place, the raindrops need to get the right color.
     White for the head, the two symbols behind that a little bit gray(er) and
     then a green, descending gradient, followed by completely invisible grid
     symbols ... until the next drop of rain runs over them!</p>
 <h2>Glueing it together</h2>
 <p>The  <a href="http://quil.info">Quil library</a>
  will take care of
     the rendering on canvas, as long as we tell it what function to call to
     'update' the matrix state and what function to call to 'draw' the current
     matrix state. The comment blocks in my code mark the different
     responsibilities of the code sections: definitions of some constants and
     update rates; grid creation and randomly changing symbols in the grid;
     generating raindrop colors, length and speed; merging it all together in a
     'matrix state'; and finally configuring Quil to call the right functions.</p>
 <h2>Conclusion</h2>
 <p>There are probably shorter, faster and smarter implementations out
     there. This was my first attempt at visualising matrix rain. I think the
     design is quite easy to understand and implement. According
     to  <a href="https://github.com/AlDanial/cloc">cloc</a>
  it took me 102
     lines of ClojureScript to get this matrix rain on my screen. I hope it
     inspires you to create something similar in your own language of choice. Be
     sure to drop me a link on  <a href="https://twitter.com/MMz_">twitter</a>
  once it's up and running on a
     website.</p>
 <p>Happy coding!</p>
</div>
</div>
</div>
</body>
</main>
 <div class="sider"></div>
 <footer><hr></hr>
 <p><a href="https://github.com/mmzsource">Github</a>
 <a href="https://www.linkedin.com/in/maartenmetz/">LinkedIn</a>
 <a href="https://twitter.com/mmz_">Twitter</a>
</p>
</footer>
</html>
